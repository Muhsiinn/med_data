{% extends "base.html" %}

{% block page_title %}Visualizations{% endblock %}

{% block content %}
<div style="background: #000; color: #fff; padding: 20px; border: 2px solid #000; margin-bottom: 30px;">
    <h2 style="margin: 0; font-size: 20px; font-weight: bold; font-family: 'Courier New', Courier, monospace; text-transform: uppercase;">Data Visualizations</h2>
    <p style="margin: 10px 0 0 0; font-family: 'Courier New', Courier, monospace;">Analyzing {{ entry_count }} entries</p>
</div>

<div class="card" style="background: #f9f9f9; border-left: 4px solid #000; margin-bottom: 30px;">
    <h3 style="font-family: 'Courier New', Courier, monospace; font-size: 14px; font-weight: bold; margin-bottom: 15px; text-transform: uppercase;">üìù Note to Readers</h3>
    <p style="font-family: 'Courier New', Courier, monospace; font-size: 13px; line-height: 1.8; margin-bottom: 12px; text-align: justify;">
        This data is <strong>subjective</strong> and reflects how I felt. This report is a personal and analytical reflection on my time in the Klinikum.
        It combines information drawn from memory, journals, WhatsApp conversations, and available medical data to trace the patterns of my mental state during recovery.
    </p>
    <p style="font-family: 'Courier New', Courier, monospace; font-size: 13px; line-height: 1.8; margin-bottom: 12px; text-align: justify;">
        The intention behind this work is not to diagnose or justify, but to <em>understand</em> ‚Äî to recognize how sleep, medication, thought patterns, and emotional changes interacted across days and weeks.
    </p>
    <p style="font-family: 'Courier New', Courier, monospace; font-size: 13px; line-height: 1.8; margin-bottom: 12px; text-align: justify;">
        While I have taken care to ensure the accuracy of data and interpretation, this report remains deeply personal and subjective in nature.
        Some parts were reconstructed retrospectively and may not perfectly represent medical reality, but they reflect my lived experience as faithfully as possible.
    </p>
    <p style="font-family: 'Courier New', Courier, monospace; font-size: 13px; line-height: 1.8; text-align: justify;">
        Readers are encouraged to approach this document with <strong>empathy and respect</strong>, keeping in mind that mental health is complex, non-linear, and often resistant to tidy explanations.
        <strong>What follows is not just data ‚Äî it's the story of a mind learning to make sense of itself.</strong>
    </p>
</div>

{% if plots %}
<div style="display: grid; gap: 30px;">
    {% for plot in plots %}
    <div class="card">
        <h3 class="card-title">{{ plot.title }}</h3>
        <div style="text-align: center; background: white; padding: 10px; border-radius: 8px;">
            <img src="data:image/png;base64,{{ plot.image }}"
                 alt="{{ plot.title }}"
                 style="max-width: 100%; height: auto; border-radius: 5px;">
        </div>
    </div>
    {% endfor %}
</div>

<div class="actions" style="margin-top: 30px;">
    <a href="{{ url_for('export_pdf') }}" class="btn btn-success">Download PDF Report</a>
    <a href="{{ url_for('index') }}" class="btn btn-secondary">Back to Data</a>
</div>

<div style="margin-top: 40px; padding: 20px; border-top: 2px solid #000; text-align: center; font-family: 'Courier New', Courier, monospace;">
    <p style="font-size: 12px; color: #666; margin-bottom: 10px;">
        Generated with care and introspection | Data period: October-November 2025
    </p>
    <!-- Add your link here if needed -->
    <!-- <a href="your-link" style="font-size: 12px; color: #000; text-decoration: underline;">Additional Resources</a> -->
</div>

{% else %}
<div class="card">
    <p>No visualizations available. Please add more data entries.</p>
    <div class="actions" style="margin-top: 20px;">
        <a href="{{ url_for('add') }}" class="btn btn-primary">‚ûï Add Entry</a>
        <a href="{{ url_for('index') }}" class="btn btn-secondary">‚Üê Back</a>
    </div>
</div>
{% endif %}

<style>
    .card h3 {
        color: #000;
        border-bottom: 2px solid #000;
        padding-bottom: 10px;
        margin-bottom: 20px;
        font-family: 'Courier New', Courier, monospace;
        text-transform: uppercase;
    }
    img {
        border: 2px solid #000;
    }
</style>

{% endblock %}
